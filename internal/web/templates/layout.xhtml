{{define "layout"}}<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="FlowLens — Lightweight NetFlow, sFlow and IPFIX Analyzer" />
  <meta name="theme-color" content="#24292e" />
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ccircle cx='16' cy='16' r='14' fill='%230366d6'/%3E%3Cpath d='M10 20 L16 8 L22 20 Z' fill='white' opacity='0.9'/%3E%3C/svg%3E" />
  <title>FlowLens — {{template "title" .}}</title>
  <link rel="stylesheet" type="text/css" href="/static/style.css" />
  {{template "head" .}}
</head>
<body>
  <nav class="topnav">
    <a href="/" class="brand">FlowLens</a>
    <button class="nav-toggle" onclick="document.querySelector('.topnav').classList.toggle('open')" aria-label="Toggle navigation">&#9776;</button>
    <div class="nav-links">
      <a href="/">Dashboard</a>
      <a href="/flows">Flows</a>
      <a href="/hosts">Hosts</a>
      <a href="/vlans">VLANs</a>
      <a href="/macs">MACs</a>
      <a href="/map">Map</a>
      <a href="/capture">Capture</a>
      <a href="/reports">Reports</a>
      <a href="/advisories">Advisories</a>
      <a href="/about">About</a>
    </div>
    <button class="dark-toggle" onclick="toggleDarkMode()" aria-label="Toggle dark mode" title="Toggle dark mode">&#9681;</button>
  </nav>
  <main>
    {{template "content" .}}
  </main>
  <footer>
    <p>FlowLens — Lightweight NetFlow Analyzer</p>
  </footer>
  <script>
  function toggleDarkMode(){
    var b=document.body;
    b.classList.toggle('dark');
    try{localStorage.setItem('flowlens-dark',b.classList.contains('dark')?'1':'0')}catch(e){}
  }
  (function(){
    try{if(localStorage.getItem('flowlens-dark')==='1')document.body.classList.add('dark')}catch(e){}
  })();
  </script>
</body>
</html>{{end}}
